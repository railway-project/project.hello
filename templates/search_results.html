{% load static %}

<!DOCTYPE html>
<html>
<head>
    <title>Poetry Search</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <script src="{% static 'js/script.js' %}"></script>
    <style>
        .reset-button {
            margin-left: 10px;
        }
    </style>
</head>
<body>
    <form action="{% url 'search' %}" method="GET">
        <input type="text" name="query" id="queryInput" placeholder="Search anything :-)...">
        <button type="submit">Search</button>
        <button type="button" class="reset-button" onclick="resetForm()">Clear</button>
    </form>

    {% if query and results %}
    <h2>Search Results for "{{ query }}"</h2>
    <ul>
        {% for poem in results %}
        <li>
            <h3><a href="{% url 'poem-detail' slug=poem.slug pk=poem.pk %}">{{ poem.title }}</a></h3>
            <p>Author: {{ poem.author }}</p>
            {% if poem.image %}
            <img src="{{ poem.image.url }}" alt="{{ poem.author }}">
            {% endif %}
            <p>Category: {{ poem.category }}</p>
            <!-- Display other relevant poem information -->
        </li>
        {% empty %}
        <li>No results found.</li>
        {% endfor %}
    </ul>
    {% elif query %}
    <p>No results found.</p>
    {% endif %}

    <script>
        function resetForm() {
            document.getElementById('queryInput').value = '';
        }
    </script>
</body>
</html>
